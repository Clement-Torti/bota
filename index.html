<!DOCTYPE html>
<html lang="es-DO">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bo'ta üó≥Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-green: #02CB01;
            --dark-green: #05B602;
            --hot-pink: #ff007f;
            --bright-yellow: #ffdd00;
            --white: #ffffff;
            --text-dark: #1a1a1a;
            --card-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            touch-action: manipulation;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: repeating-linear-gradient(45deg,
                    var(--neon-green),
                    var(--neon-green) 30px,
                    var(--dark-green) 30px,
                    var(--dark-green) 60px);
            background-size: 200% 200%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            color: var(--text-dark);
            animation: moveStripes 25s linear infinite;
        }

        @keyframes moveStripes {
            0% {
                background-position: 0% 0%;
            }

            100% {
                background-position: 100% 100%;
            }
        }

        /* HEADER */
        header {
            text-align: center;
            padding: 15px;
            z-index: 10;
            position: relative;
            flex-shrink: 0;
            /* No encoger */
        }

        header h1 {
            font-size: 2rem;
            font-weight: 900;
            color: var(--white);
            text-transform: uppercase;
            text-shadow: 3px 3px 0px var(--hot-pink);
            font-style: italic;
            line-height: 1;
        }

        header span {
            font-weight: 700;
            color: var(--text-dark);
            background: var(--bright-yellow);
            padding: 2px 10px;
            transform: rotate(-2deg);
            display: inline-block;
            margin-top: 5px;
            box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
        }

        /* MAIN APP */
        .app-container {
            flex: 1;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
        }

        /* STACK DE CARTAS */
        .card-stack {
            position: relative;
            width: 90%;
            height: 65vh;
            perspective: 1000px;
        }

        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--white);
            border-radius: 25px;
            box-shadow: var(--card-shadow);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease;
            transform-origin: 50% 100%;
            border: 4px solid var(--white);
        }

        .card:nth-last-child(1) {
            z-index: 3;
        }

        .card:nth-last-child(2) {
            z-index: 2;
            transform: scale(0.95) translateY(15px);
            opacity: 0.9;
        }

        .card:nth-last-child(3) {
            z-index: 1;
            transform: scale(0.90) translateY(30px);
            opacity: 0.8;
        }

        .card:nth-last-child(n+4) {
            opacity: 0;
            pointer-events: none;
        }

        .card-image {
            width: 100%;
            height: 45%;
            object-fit: cover;
            background: #eee;
            border-bottom: 5px solid var(--hot-pink);
        }

        .card-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .category-badge {
            background: var(--text-dark);
            color: var(--bright-yellow);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .proposition-text {
            font-size: 1.2rem;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 15px;
            color: #333;
        }

        /* Description on the front of the card */
        .proposition-description {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.4;
            font-weight: 500;
            /* Limit lines if you want, or let it grow */
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* "Saber m√°s" Opinions List */
        .opinion-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            gap: 12px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .opinion-row:last-child {
            border-bottom: none;
        }

        .opinion-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #fff;
            border: 3px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.9rem;
            flex-shrink: 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Update these classes to handle images */
        .opinion-avatar, .candidate-avatar-res {
            overflow: hidden; /* Clips the image to the circle */
            background: white;
            padding: 0; /* Remove padding so image fills space */
        }

        .opinion-avatar img, .candidate-avatar-res img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures image covers the circle without distortion */
            display: block;
        }

        .opinion-text {
            font-size: 0.9rem;
            color: #333;
            line-height: 1.4;
        }

        /* ADD THIS TO YOUR CSS */
        .card-counter {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 800;
            color: white;
            z-index: 5;
            pointer-events: none;
            /* Allows clicking through it */
        }

        .saber-mas {
            margin-top: auto;
            color: var(--hot-pink);
            text-decoration: none;
            font-weight: 700;
            border: 2px solid var(--hot-pink);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.8rem;
            transition: 0.2s;
        }

        .saber-mas:hover {
            background: var(--hot-pink);
            color: white;
        }

        /* CONTROLES */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 20px;
            padding-bottom: 50px;
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            z-index: 20;
        }

        .btn-action {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 0 rgba(0, 0, 0, 0.2);
            color: white;
        }

        .btn-action:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
        }

        .btn-no {
            background: var(--hot-pink);
        }

        .btn-maybe {
            background: var(--bright-yellow);
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            color: var(--text-dark);
        }

        .btn-yes {
            background: #00C853;
        }

        /* OVERLAYS */
        .overlay {
            position: absolute;
            top: 40px;
            font-size: 3rem;
            font-weight: 900;
            padding: 5px 20px;
            border: 6px solid;
            border-radius: 12px;
            opacity: 0;
            z-index: 10;
            background: rgba(255, 255, 255, 0.8);
        }

        .overlay-yes {
            left: 20px;
            color: #00C853;
            border-color: #00C853;
            transform: rotate(-15deg);
        }

        .overlay-no {
            right: 20px;
            color: var(--hot-pink);
            border-color: var(--hot-pink);
            transform: rotate(15deg);
        }

        .overlay-maybe {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--bright-yellow);
            border-color: var(--bright-yellow);
            background: rgba(0, 0, 0, 0.7);
            font-size: 2rem;
        }

        /* --- VISTA DE RESULTADOS --- */
        .results-view {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            /* Ocupa toda la pantalla */
            background: linear-gradient(180deg, var(--neon-green) 0%, #008f36 100%);
            z-index: 100;
            flex-direction: column;
            justify-content: space-between;
            /* Distribuye espacio */
            align-items: center;
            overflow: hidden;
        }

        .results-header {
            margin-top: 40px;
            text-align: center;
            color: white;
            flex-shrink: 0;
        }

        .podium-container {
            display: flex;
            align-items: flex-end;
            /* Alinea barras abajo */
            justify-content: center;
            width: 100%;
            /* ESTO ES CLAVE: Ocupa todo el espacio disponible en medio */
            flex-grow: 1;
            padding-bottom: 90px;
            /* Espacio para que las barras no toquen el bot√≥n */
            padding-left: 10px;
            padding-right: 10px;
        }

        .podium-place {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            margin: 0 4px;
            width: 30%;
            height: 100%;
            /* Permite que crezcan hasta arriba */
            position: relative;
        }

        .place-1 {
            order: 2;
            width: 38%;
            z-index: 10;
        }

        .place-2 {
            order: 1;
        }

        .place-3 {
            order: 3;
        }

        .candidate-avatar-res {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 4px solid white;
            margin-bottom: -20px;
            /* Superposici√≥n */
            z-index: 5;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            position: relative;
        }

        .place-1 .candidate-avatar-res {
            width: 85px;
            height: 85px;
            font-size: 1.5rem;
            border-color: var(--bright-yellow);
            margin-bottom: -30px;
        }

        .podium-bar {
            width: 100%;
            background: white;
            border-radius: 15px 15px 0 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding-bottom: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            /* Altura inicial 0 */
            height: 0;
            transition: height 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            /* Efecto rebote */
            min-height: 40px;
            /* Para que siempre se vea algo */
        }

        .place-1 .podium-bar {
            background: var(--bright-yellow);
            color: var(--text-dark);
        }

        .place-2 .podium-bar {
            background: rgba(255, 255, 255, 0.9);
        }

        .place-3 .podium-bar {
            background: rgba(255, 255, 255, 0.8);
        }

        .score-text {
            font-weight: 900;
            font-size: 1.4rem;
        }

        .name-text {
            font-size: 0.75rem;
            font-weight: 700;
            margin-top: 2px;
            text-align: center;
            line-height: 1.1;
            padding: 0 5px;
        }

        .restart-btn {
            position: absolute;
            bottom: 25px;
            background: var(--hot-pink);
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 5px 0 #c20061;
            text-transform: uppercase;
            z-index: 200;
        }

        .restart-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #c20061;
        }

        .animate-avatar {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- C√âDULA MODAL --- */
        .cedula-modal {
            display: none;
            /* Oculto por defecto */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(5px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .cedula-card {
            background: var(--white);
            padding: 30px 20px;
            width: 90%;
            max-width: 350px;
            border-radius: 20px;
            text-align: center;
            border: 5px solid var(--bright-yellow);
            box-shadow: 0 0 30px var(--bright-yellow);
            transform: scale(0.9);
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;

            /* --- L√çNEAS NUEVAS PARA EL SCROLL --- */
            max-height: 85vh;
            /* Nunca ser√° m√°s alta que el 85% de la pantalla */
            overflow-y: auto;
            /* Activa scroll vertical si se pasa de altura */
            overscroll-behavior: contain;
            /* Evita que se mueva el fondo de atr√°s */
        }

        /* Scrollbar finito y bonito */
        .cedula-card::-webkit-scrollbar {
            width: 6px;
        }

        .cedula-card::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .cedula-card::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 10px;
        }

        .cedula-card::-webkit-scrollbar-thumb:hover {
            background: var(--hot-pink);
            /* Un toque de color al hacer hover */
        }

        .siren-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            animation: wobble 1s infinite;
        }

        .cedula-card h2 {
            text-transform: uppercase;
            color: var(--text-dark);
            font-weight: 900;
            margin-bottom: 10px;
            transform: rotate(-2deg);
        }

        .cedula-card p {
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        #cedulaInput {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            text-align: center;
            border: 3px solid #ddd;
            border-radius: 10px;
            margin-bottom: 5px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            outline: none;
        }

        #cedulaInput:focus {
            border-color: var(--neon-green);
        }

        .cedula-card small {
            display: block;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.75rem;
        }

        .btn-cedula {
            background: var(--hot-pink);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 0 #c20061;
            width: 100%;
            transition: 0.2s;
        }

        .btn-cedula:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #c20061;
        }

        .cedula-feedback {
            margin-top: 15px;
            font-weight: 700;
            min-height: 20px;
        }

        @keyframes popIn {
            to {
                transform: scale(1);
            }
        }

        @keyframes wobble {

            0%,
            100% {
                transform: rotate(-10deg);
            }

            50% {
                transform: rotate(10deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }


        /* --- ESTILOS PARA LA SECCI√ìN "WEY POR QU√â" --- */

        .why-section {
            text-align: left;
            font-size: 0.85rem;
            padding-bottom: 15px;
        }

        .why-section summary {
            cursor: pointer;
            color: #666;
            font-weight: 700;
            list-style: none;
            /* Oculta el tri√°ngulo default en algunos navegadores */
            text-align: center;
            text-decoration: underline;
            transition: color 0.2s;
        }

        .why-section summary:hover {
            color: var(--hot-pink);
        }

        /* Ocultar el tri√°ngulo default en Chrome/Safari */
        .why-section summary::-webkit-details-marker {
            display: none;
        }

        .why-content {
            margin-top: 15px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #eee;
            font-size: 0.8rem;
            color: #444;
            animation: fadeIn 0.3s ease;
        }

        .why-content p {
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .why-content p:last-child {
            margin-bottom: 0;
        }

        .highlight-privacy {
            background: #e8f5e9;
            /* Verde muy suave */
            color: #1b5e20;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #c8e6c9;
            font-weight: 500;
        }

        /* --- ESTILOS PARA LA VISTA DETALLADA (SABER M√ÅS) --- */
        .card-details {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--white);
            z-index: 50;
            /* Por encima de la imagen */
            padding: 30px;
            display: flex;
            flex-direction: column;
            transform: translateY(100%);
            /* Oculto por defecto (abajo) */
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
            box-shadow: inset 0 10px 20px -10px rgba(0, 0, 0, 0.1);
        }

        /* Clase que activa la vista */
        .card.show-info .card-details {
            transform: translateY(0);
        }

        .details-title {
            font-size: 1.3rem;
            font-weight: 900;
            margin-bottom: 15px;
            color: var(--hot-pink);
            text-transform: uppercase;
            line-height: 1.2;
            text-align: left;
        }

        .details-text {
            font-size: 0.95rem;
            line-height: 1.6;
            text-align: left;
            color: #444;
            overflow-y: auto;
            flex: 1;
            /* Ocupa el espacio disponible */
            padding-bottom: 20px;
        }

        .btn-close-details {
            background: var(--text-dark);
            color: var(--bright-yellow);
            border: none;
            padding: 15px;
            font-weight: 800;
            text-transform: uppercase;
            border-radius: 12px;
            cursor: pointer;
            margin-top: auto;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
        }

        .btn-close-details:active {
            transform: translateY(2px);
            box-shadow: none;
        }
    </style>
</head>

<body>

    <header>
        <h1 style="margin-top: 50px;">Bo'Ta üó≥Ô∏è</h1>
        <span>Presidenciales 2028 üá©üá¥</span>
    </header>

    <div class="app-container">
        <!-- Tarjetas -->
        <div class="card-stack" id="cardStack"></div>

        <!-- Vista Resultados (Podio) -->
        <div class="results-view" id="resultsView">
            <div class="results-header">
                <h2 style="font-size:2rem; font-weight:900; text-shadow: 2px 2px 0 rgba(0,0,0,0.2);">¬°EL RANKING! üèÜ
                </h2>
                <p>Tu match pol√≠tico ideal</p>
            </div>

            <div class="podium-container" id="podiumContainer">
                <!-- Se inyecta con JS -->
            </div>

            <button class="restart-btn" onclick="location.reload()">Jugar otra vez</button>
        </div>
    </div>

    <div class="controls" id="controls">
        <button class="btn-action btn-no" onclick="triggerSwipe('left')">‚úñ</button>
        <button class="btn-action btn-maybe" onclick="triggerSwipe('up')">ü§î</button>
        <button class="btn-action btn-yes" onclick="triggerSwipe('right')">‚ù§</button>
    </div>

    <!-- MODAL DE LA C√âDULA -->
    <div id="cedulaModal" class="cedula-modal">
        <div class="cedula-card">
            <div class="siren-icon">üö®</div>
            <h2>¬°Quieto en primera!</h2>
            <p>
                Contribuye a la voz de los dominicanos <strong>marcando tu c√©dula</strong> ah√≠; e‚Äô <strong>100%
                    an√≥nimo</strong>
            </p>

            <input type="tel" id="cedulaInput" maxlength="11" placeholder="Ej: 40212345678" autocomplete="off">

            <!-- SECCI√ìN NUEVA: WEY, POR QU√â? -->
            <details class="why-section">
                <summary>Wey, ¬øy pa' qu√© quieren eso? ü§î</summary>
                <div class="why-content">
                    <p>
                        <strong>Tranquilo, man√≠n.</strong> Esto no es pa' chivatearte con nadie.
                    </p>
                    <p>
                        Recopilamos esta data para descartar bots y crear <strong>tendencias generales de
                            mercado</strong> para saber qu√© piensa el pueblo realmente sobre estas propuestas.
                    </p>
                    <p class="highlight-privacy">
                        üîí <strong>100% AN√ìNIMO:</strong><br>
                        <strong>NUNCA</strong> guardamos tu nombre asociado a tus respuestas.
                        Tus opiniones se mezclan con las de miles de dominicanos para sacar estad√≠sticas, nadie sabr√°
                        qu√© votaste t√∫.
                    </p>

                    <div style="margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 15px; text-align: center;">
                        <button onclick="skipCedula()"
                            style="background: none; border: none; color: #666; text-decoration: underline; cursor: pointer; font-weight: 700; font-size: 0.9rem;">
                            üëâ Dale pa' lla' sin c√©dula
                        </button>
                    </div>
                </div>
            </details>
            <!-- FIN SECCI√ìN NUEVA -->
            <button class="btn-cedula" onclick="verificarCedula()">Continuamos üá©üá¥</button>
            <p id="cedulaFeedback" class="cedula-feedback"></p>

        </div>
    </div>

    <script>
        // --- DATA ---
        const candidates = [
            {
                id: 'c1',
                name: 'Luis Abinader',
                party: 'PRM',
                color: '#0072CE', // PRM Blue
                score: 0,
                avatar: 'LA',
                description: 'Presidente actual. Promueve reformas institucionales, independencia del Ministerio P√∫blico y alianzas p√∫blico-privadas.'
            },
            {
                id: 'c2',
                name: 'Leonel Fern√°ndez',
                party: 'Fuerza del Pueblo',
                color: '#009900', // FP Green
                score: 0,
                avatar: 'LF',
                description: 'Ex-presidente (3 veces). Enfocado en grandes infraestructuras, critica la inflaci√≥n y la "improvisaci√≥n" del gobierno actual.'
            },
            {
                id: 'c3',
                name: 'Abel Mart√≠nez',
                party: 'PLD',
                color: '#800080', // PLD Purple
                score: 0,
                avatar: 'AM',
                description: 'Ex-alcalde de Santiago. Discurso de "Mano Dura", orden municipal y defensa agresiva de la soberan√≠a nacional.'
            }
        ];

        const propositions = [
            // --- MIGRACI√ìN Y SOBERAN√çA ---
            {
                text: "¬øContinuar la construcci√≥n del Muro Fronterizo?",
                category: "Soberan√≠a",
                keyword: "wall",
                description: "Terminar la verja f√≠sica y tecnol√≥gica en la frontera para frenar la entrada ilegal.",
                for: "Aumenta la seguridad, reduce el robo de ganado y ayuda a controlar el flujo migratorio irregular.",
                against: "Es costoso, divide comunidades y algunos creen que no detendr√° la migraci√≥n si hay corrupci√≥n militar.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Inici√≥ la obra y la defiende como vital para la seguridad nacional ('La frontera no ser√° la misma').",
                    c2: "Apoya el muro pero critica la ejecuci√≥n actual, llam√°ndola 'malla de gallinero' insuficiente.",
                    c3: "A favor, pero exige una construcci√≥n de hormig√≥n m√°s agresiva y tecnol√≥gica."
                }
            },
            {
                text: "¬øDeportaciones masivas de indocumentados?",
                category: "Soberan√≠a",
                keyword: "deportation",
                description: "Aumentar las repatriaciones semanales de extranjeros en estatus irregular.",
                for: "Hace cumplir la ley migratoria y reduce la presi√≥n sobre los servicios p√∫blicos (salud/educaci√≥n).",
                against: "Puede violar derechos humanos y afectar sectores econ√≥micos (agro/construcci√≥n) que dependen de esa mano de obra.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Ha ordenado operativos para deportar hasta 10,000 indocumentados por semana.",
                    c2: "De acuerdo con hacer cumplir la ley, aunque a veces critica las formas para diferenciarse.",
                    c3: "Mano dura total. Su campa√±a se bas√≥ en el 'orden' y la repatriaci√≥n estricta."
                }
            },
            {
                text: "¬øEstablecer campos de refugiados en RD?",
                category: "Soberan√≠a",
                keyword: "refugee",
                description: "Permitir zonas de refugio humanitario en suelo dominicano para haitianos.",
                for: "Cumplir√≠a con peticiones de la ONU y ofrecer√≠a ayuda humanitaria ante la crisis vecina.",
                against: "Riesgo alto para la soberan√≠a nacional y carga econ√≥mica insostenible para el pa√≠s.",
                stances: { c1: -1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Rechazo absoluto: 'La Rep√∫blica Dominicana no ser√° campo de refugiados'.",
                    c2: "Se opone firmemente, alegando que la soluci√≥n a Hait√≠ debe ser internacional, no dominicana.",
                    c3: "Totalmente en contra, considera que atenta contra la existencia de la naci√≥n."
                }
            },
            {
                text: "¬øReinstaurar visados a estudiantes haitianos?",
                category: "Seguridad",
                keyword: "visa",
                description: "Mantener la pausa en la emisi√≥n de visas a estudiantes del pa√≠s vecino.",
                for: "Evita que se use la visa de estudiante como v√≠a para quedarse ilegalmente en el pa√≠s.",
                against: "Afecta a las universidades dominicanas y castiga a j√≥venes que solo quieren estudiar legalmente.",
                stances: { c1: 1, c2: 0, c3: 1 },
                candidateOpinions: {
                    c1: "Suspendi√≥ el programa de visados indefinidamente por razones de seguridad.",
                    c2: "Postura ambivalente; prioriza el control fronterizo sobre el cierre acad√©mico total.",
                    c3: "A favor de restricciones severas y revisi√≥n de cada visado emitido."
                }
            },

            // --- ECONOM√çA E IMPUESTOS ---
            {
                text: "¬øAprobar la Reforma Fiscal?",
                category: "Econom√≠a",
                keyword: "tax",
                description: "Subir o ampliar impuestos (ITBIS/IPI) para que el gobierno tenga m√°s dinero.",
                for: "Necesario para reducir la deuda p√∫blica y mejorar servicios como salud y polic√≠a.",
                against: "Aumenta el costo de la vida, afecta a la clase media y puede frenar el crecimiento econ√≥mico.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Propuso la 'Ley de Modernizaci√≥n Fiscal' por responsabilidad econ√≥mica, aunque la retir√≥ por falta de consenso.",
                    c2: "Se opuso radicalmente, calific√°ndola de 'bombazo fiscal' contra los pobres.",
                    c3: "En contra, argumentando que el gobierno gasta mal y no deber√≠a cobrar m√°s."
                }
            },
            {
                text: "¬øEliminar el 'Anticipo' de impuestos?",
                category: "Econom√≠a",
                keyword: "business",
                description: "Quitar el cobro adelantado de impuestos que pagan las empresas cada mes.",
                for: "Alivia el flujo de efectivo de las peque√±as empresas y evita quiebras.",
                against: "El gobierno perder√≠a un ingreso mensual fijo y predecible necesario para pagar gastos corrientes.",
                stances: { c1: 0, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Lo ha flexibilizado para microempresas, pero no lo elimina totalmente para no afectar ingresos.",
                    c2: "Promesa de campa√±a: Eliminar el anticipo para dinamizar la econom√≠a.",
                    c3: "A favor de eliminarlo para apoyar a los emprendedores y PYMES."
                }
            },
            {
                text: "¬øMantener subsidios a los combustibles?",
                category: "Econom√≠a",
                keyword: "oil",
                description: "Que el gobierno pague parte de la gasolina para que no suba de precio.",
                for: "Evita que suba el pasaje y los alimentos, manteniendo la paz social.",
                against: "Es muy costoso, genera mucha deuda y beneficia tambi√©n a quienes pueden pagar.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Mantiene precios congelados asumiendo miles de millones en deuda para frenar la inflaci√≥n.",
                    c2: "Critica el endeudamiento excesivo utilizado para sostener estos subsidios.",
                    c3: "Critica los altos precios a pesar de los subsidios y la gesti√≥n de la f√≥rmula."
                }
            },
            {
                text: "¬øUso de Fideicomisos P√∫blicos?",
                category: "Econom√≠a",
                keyword: "trust",
                description: "Crear entidades mixtas para administrar bienes del Estado (ej. Pedernales, Punta Catalina).",
                for: "Agiliza la inversi√≥n y ejecuci√≥n de obras sin la burocracia estatal lenta.",
                against: "Falta de transparencia, evita la ley de compras y contrataciones, y riesgo de privatizaci√≥n.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Defensor principal: Los usa para desarrollar turismo (Pedernales) y transporte (Fitram).",
                    c2: "Muy cr√≠tico: Alega que privatizan lo p√∫blico y violan leyes org√°nicas.",
                    c3: "En contra: Considera que el gobierno cede su responsabilidad al sector privado."
                }
            },
            {
                text: "¬øEntrega del 30% de las AFP?",
                category: "Econom√≠a",
                keyword: "money",
                description: "Dar a los trabajadores el 30% de su dinero ahorrado para pensiones.",
                for: "Alivio econ√≥mico inmediato para familias endeudadas o en crisis.",
                against: "Genera inflaci√≥n inmediata y deja a los trabajadores sin dinero para su vejez.",
                stances: { c1: -1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "En contra: Argumenta que disparar√≠a la inflaci√≥n y da√±ar√≠a la econom√≠a.",
                    c2: "En contra: Lo considera populismo econ√≥mico que destruye el futuro del trabajador.",
                    c3: "En contra: El PLD institucionalmente se opone a desmantelar el sistema de pensiones."
                }
            },


            // --- SOCIAL Y DERECHOS ---
            {
                text: "¬øAprobar las 3 Causales del aborto?",
                category: "Derechos",
                keyword: "women",
                description: "Permitir el aborto solo en 3 casos: peligro de muerte de la madre, feto inviable o violaci√≥n.",
                for: "Protege la vida y salud de las mujeres y garantiza derechos fundamentales en situaciones extremas.",
                against: "Viola el principio constitucional de que la vida comienza desde la concepci√≥n (Art. 37).",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Personalmente a favor, pero ha dejado que el Congreso decida sin imponer l√≠nea partidaria.",
                    c2: "Hist√≥ricamente en contra, apelando a la Constituci√≥n que √©l mismo promovi√≥ en 2010.",
                    c3: "En contra, alineado con la postura de la iglesia y los sectores conservadores."
                }
            },
            {
                text: "¬ø'Ideolog√≠a de G√©nero' en escuelas?",
                category: "Educaci√≥n",
                keyword: "education",
                description: "Ense√±ar educaci√≥n sexual y diversidad de g√©nero en las escuelas p√∫blicas.",
                for: "Fomenta la tolerancia, reduce el acoso escolar y previene embarazos adolescentes.",
                against: "Padres argumentan que el Estado no debe interferir en la educaci√≥n moral de sus hijos.",
                stances: { c1: 0, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "El Min. de Educaci√≥n intent√≥ una ordenanza al respecto, pero retrocedi√≥ ante cr√≠ticas.",
                    c2: "Rechaza que se impongan agendas for√°neas que 'confunden' a la ni√±ez.",
                    c3: "Totalmente en contra, promete defender los valores tradicionales de la familia."
                }
            },
            {
                text: "¬øLectura de la Biblia obligatoria?",
                category: "Educaci√≥n",
                keyword: "bible",
                description: "Hacer cumplir la ley que manda a leer la Biblia en todas las escuelas.",
                for: "Inculca valores morales y respeta la tradici√≥n cristiana del pa√≠s.",
                against: "Discrimina a estudiantes de otras religiones y viola el estado laico.",
                stances: { c1: 0, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Respeta la ley, pero su gesti√≥n prioriza un enfoque educativo secular y t√©cnico.",
                    c2: "A favor, busca activamente el apoyo de las iglesias evang√©licas y cat√≥licas.",
                    c3: "A favor, utiliza el discurso religioso como pilar de su defensa de la 'dominicanidad'."
                }
            },
            {
                text: "¬øMantener el 4% para Educaci√≥n?",
                category: "Educaci√≥n",
                keyword: "school",
                description: "Seguir dando obligatoriamente el 4% del dinero del pa√≠s al Ministerio de Educaci√≥n.",
                for: "Es una conquista social y la ley exige invertir en mejorar las escuelas.",
                against: "Se argumenta que el dinero se desperdicia si no hay planes de calidad educativa.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Lo mantiene innegociable, enfoc√°ndose ahora en transporte escolar y polit√©cnicos.",
                    c2: "Apoya el monto, pero critica duramente la 'mala calidad' del gasto actual.",
                    c3: "A favor, pero denuncia que el dinero se usa en n√≥minas pol√≠ticas y no en ense√±anza."
                }
            },

            // --- INSTITUCIONALIDAD Y JUSTICIA ---
            {
                text: "¬øReforma Constitucional (MP)?",
                category: "Justicia",
                keyword: "constitution",
                description: "Cambiar la Constituci√≥n para que el Presidente no elija al Procurador.",
                for: "Garantiza que la justicia no dependa de pol√≠ticos y reduce la impunidad.",
                against: "Se teme que se aproveche para cambiar reglas de reelecci√≥n y bajar el % para ganar.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Es su propuesta bandera para dejar un legado de independencia judicial.",
                    c2: "Se opone radicalmente: 'La Constituci√≥n no se toca', cree que es innecesario.",
                    c3: "En contra, considera que es un distractor de los problemas econ√≥micos reales."
                }
            },
            {
                text: "¬øReducci√≥n de Diputados?",
                category: "Pol√≠tica",
                keyword: "congress",
                description: "Eliminar curules en el congreso para tener menos legisladores (de 190 a 137 aprox).",
                for: "Ahorra dinero del presupuesto y hace el congreso m√°s eficiente.",
                against: "Provincias peque√±as perder√≠an representaci√≥n y voz en el gobierno.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Propuso reducir 53 diputados como parte de su reforma constitucional.",
                    c2: "Esc√©ptico, prefiere analizar el impacto en la representaci√≥n democr√°tica.",
                    c3: "Postura ambigua, critica el gasto pero defiende la estructura partidaria."
                }
            },
            {
                text: "¬øUnificar elecciones?",
                category: "Pol√≠tica",
                keyword: "vote",
                description: "Votar por Presidente y Alcaldes el mismo d√≠a (eliminar elecciones separadas).",
                for: "Reduce el gasto de campa√±as y el cansancio de la gente.",
                against: "Los temas municipales pierden importancia frente a la figura presidencial (efecto arrastre).",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "A favor de unificar para 2032 para reducir costos y abstenci√≥n.",
                    c2: "Prefiere elecciones separadas para fortalecer el liderazgo local.",
                    c3: "El PLD prefiere la separaci√≥n para evitar que el gobierno arrastre todo el poder."
                }
            },
            {
                text: "¬øLey de Extinci√≥n de Dominio?",
                category: "Justicia",
                keyword: "judge",
                description: "Quitar bienes robados al estado o del narco, incluso de casos viejos.",
                for: "Recupera lo robado ('El que la hace la paga') y desincentiva la corrupci√≥n.",
                against: "Podr√≠a usarse como persecuci√≥n pol√≠tica si no se aplica con cuidado jur√≠dico.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Promulg√≥ la ley y la celebra como un hito contra el crimen organizado.",
                    c2: "Apoya el concepto pero advirti√≥ sobre choques con la Constituci√≥n (irretroactividad).",
                    c3: "Apoya la transparencia pero vigila que no sea un arma contra opositores."
                }
            },

            // --- INFRAESTRUCTURA Y SERVICIOS ---
            {
                text: "¬øExpansi√≥n del Metro/Telef√©rico?",
                category: "Transporte",
                keyword: "train",
                description: "Construir m√°s l√≠neas de Metro (SD) y Monorriel (Santiago).",
                for: "Soluci√≥n real al caos del tap√≥n y transporte digno para la gente.",
                against: "Requiere subsidios millonarios eternos y endeudamiento externo.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Ejecutando agresivamente: L√≠nea 2C, Monorriel Santiago y Telef√©rico.",
                    c2: "Reivindica ser el 'Padre del Metro' y promete seguir expandi√©ndolo.",
                    c3: "A favor del transporte masivo, aunque critica la lentitud de las obras actuales."
                }
            },
            {
                text: "¬øContrato de Aerodom?",
                category: "Infraestructura",
                keyword: "airplane",
                description: "Renovar el contrato de los aeropuertos hasta 2060 a cambio de dinero hoy.",
                for: "El estado recibe fondos inmediatos para asfaltado y obras sin pedir pr√©stamos.",
                against: "Compromete ingresos futuros del pa√≠s y se considera un mal negocio financiero.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Defiende la renegociaci√≥n como un √©xito que trajo recursos frescos al estado.",
                    c2: "Lo calific√≥ de 'adefesio jur√≠dico' y estafa al pueblo dominicano.",
                    c3: "En contra, acus√≥ al gobierno de hipotecar el futuro del pa√≠s."
                }
            },
            {
                text: "¬øPresa de Cola (Barrick Gold)?",
                category: "Medio Ambiente",
                keyword: "mining",
                description: "Permitir que la minera construya un nuevo dep√≥sito de residuos para seguir operando.",
                for: "Mantiene los empleos y los altos ingresos fiscales que da el oro.",
                against: "Riesgo alto de contaminar r√≠os y afectar la agricultura de la zona.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Busca un equilibrio, apoyando la miner√≠a pero exigiendo estudios ambientales.",
                    c2: "Cauteloso, evita chocar con los ambientalistas pero entiende la econom√≠a.",
                    c3: "Tiende a ponerse del lado de las comunidades locales que rechazan la presa."
                }
            },
            {
                text: "¬øMiner√≠a en San Juan (Romero)?",
                category: "Medio Ambiente",
                keyword: "mountain",
                description: "Sacar oro de las monta√±as de San Juan, encima de una presa de agua.",
                for: "Generar√≠a riqueza en una de las provincias m√°s pobres del pa√≠s.",
                against: "Podr√≠a destruir el agua (R√≠o San Juan) que usa el Sur para agricultura.",
                stances: { c1: 0, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "No ha dado el permiso final, esperando 'consenso social' (postura pasiva).",
                    c2: "Opuesto rotundamente: 'El agua vale m√°s que el oro'.",
                    c3: "En contra: Defiende a los agricultores del 'Granero del Sur'."
                }
            },
            {
                text: "¬øPrivatizaci√≥n Punta Catalina?",
                category: "Energ√≠a",
                keyword: "factory",
                description: "Vender o ceder la administraci√≥n de la planta el√©ctrica al sector privado.",
                for: "El sector privado suele administrar mejor y evitar botellas/corrupci√≥n.",
                against: "El Estado invirti√≥ miles de millones y debe recibir los beneficios, no un privado.",
                stances: { c1: 0, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Intent√≥ un Fideicomiso pero lo retir√≥. Ahora la mantiene estatal (Celso Marranzini).",
                    c2: "En contra de venderla, la considera un activo estrat√©gico de seguridad nacional.",
                    c3: "El PLD la construy√≥ y se opone ferozmente a que se entregue a privados."
                }
            },
            // --- SEGURIDAD CIUDADANA ---
            {
                text: "¬øReforma Policial profunda?",
                category: "Seguridad",
                keyword: "police",
                description: "Limpiar y modernizar la polic√≠a, aunque tome tiempo ver los resultados.",
                for: "Es la √∫nica forma de acabar con la corrupci√≥n interna y tener agentes profesionales y educados.",
                against: "El proceso es muy lento y la delincuencia sigue alta mientras se 'arregla' la casa.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "La defiende como un proceso hist√≥rico e irreversible: 'No hay vuelta atr√°s'.",
                    c2: "Dice que es un fracaso: 'La delincuencia est√° peor que nunca' y critica la estrategia.",
                    c3: "Critica la teor√≠a; propone patrullaje agresivo inmediato y tecnolog√≠a ('Ojos de √Åguila')."
                }
            },
            {
                text: "¬øPatrullaje mixto (Militares)?",
                category: "Seguridad",
                keyword: "military",
                description: "Sacar a los guardias a la calle para ayudar a la polic√≠a a vigilar.",
                for: "La gente se siente m√°s segura y los delincuentes respetan m√°s al uniforme militar.",
                against: "Los militares no est√°n entrenados para tratar con civiles, es un 'parche' temporal.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Lo utiliza recurrentemente en operativos como 'Garant√≠a de Paz' en √©pocas festivas.",
                    c2: "Aunque critica al gobierno, apoya el uso de fuerzas armadas cuando la polic√≠a es rebasada.",
                    c3: "A favor del orden total: apoya cualquier medida de fuerza en las calles."
                }
            },
            {
                text: "¬øLey del DNI (Inteligencia)?",
                category: "Derechos",
                keyword: "spy",
                description: "Nueva ley que obliga a entregar informaci√≥n privada al gobierno por seguridad.",
                for: "Necesaria para combatir el crimen organizado, terrorismo y ciberataques modernos.",
                against: "Peligrosa para la privacidad y la libertad de prensa; podr√≠a usarse para espiar opositores.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Defendi√≥ la ley como necesaria, aunque acept√≥ dialogar modificaciones tras las quejas.",
                    c2: "La calific√≥ de inconstitucional y dictatorial, exigiendo su anulaci√≥n.",
                    c3: "Rechazo total, argumentando que viola derechos fundamentales de los ciudadanos."
                }
            },

            // --- VARIOS / TEMAS ACTUALES ---
            {
                text: "¬øTasa Cero a importaciones?",
                category: "Agricultura",
                keyword: "food",
                description: "Quitar impuestos a alimentos tra√≠dos de fuera para bajar los precios.",
                for: "Ayuda a que la comida sea m√°s barata para el consumidor en momentos de inflaci√≥n.",
                against: "Quiebra a los agricultores dominicanos que no pueden competir con precios extranjeros.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Promulg√≥ la ley temporalmente para mitigar la inflaci√≥n de la canasta b√°sica.",
                    c2: "Muy cr√≠tico: 'Privilegia a los importadores y destruye el campo dominicano'.",
                    c3: "En contra: 'Es una estocada mortal a los productores nacionales'."
                }
            },
            {
                text: "¬øLa Semanal con la Prensa?",
                category: "Comunicaci√≥n",
                keyword: "press",
                description: "Conferencia en vivo todos los lunes donde el Presidente responde preguntas.",
                for: "Muestra transparencia y un mandatario que da la cara y rinde cuentas.",
                against: "Se usa como propaganda pol√≠tica y expone al presidente a cometer errores constantes.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Su plataforma principal de agenda: 'Rendimos cuentas sagradamente'.",
                    c2: "Ironiza sobre ella: 'Habla mucho, resuelve poco' y la considera un show medi√°tico.",
                    c3: "La califica de teatro para distraer de los problemas reales del pa√≠s."
                }
            },
            {
                text: "¬øRegulaci√≥n de Airbnb?",
                category: "Turismo",
                keyword: "house",
                description: "Cobrar impuestos y poner reglas a los alquileres de corta estancia.",
                for: "Competencia leal con los hoteles y garantiza seguridad al turista.",
                against: "Podr√≠a encarecer el servicio y afectar a due√±os de apartamentos que viven de eso.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "El Ministerio de Turismo ya tiene listo el acuerdo para regularlos fiscalmente.",
                    c2: "Prudente, apoya el turismo pero entiende que debe haber 'reglas claras' para todos.",
                    c3: "No tiene una postura agresiva, favorece el emprendimiento pero con orden."
                }
            },
            {
                text: "¬øProhibir pl√°sticos de un uso?",
                category: "Medio Ambiente",
                keyword: "plastic",
                description: "Eliminar sorbetes y fundas pl√°sticas para cuidar los r√≠os y playas.",
                for: "Vital para el medio ambiente y para mantener limpio el pa√≠s (turismo).",
                against: "Aumenta costos a comercios y consumidores si no hay alternativas baratas.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Impulsa la Ley de Residuos S√≥lidos y programas de 'Dominicana Limpia'.",
                    c2: "A favor de la protecci√≥n ambiental como eje de desarrollo sostenible.",
                    c3: "Como ex-alcalde, su √©xito fue la limpieza, as√≠ que apoya eliminar basura pl√°stica."
                }
            },
            {
                text: "¬øBurocracia Cero (Digital)?",
                category: "Estado",
                keyword: "laptop",
                description: "Hacer todos los tr√°mites del gobierno por internet para evitar filas y sobornos.",
                for: "Eficiencia, rapidez y menos corrupci√≥n al eliminar el contacto humano.",
                against: "Dificultad para personas mayores o sin internet en zonas rurales.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Programa bandera: 'Burocracia Cero' para agilizar inversiones y permisos.",
                    c2: "Reivindica ser quien moderniz√≥ el estado y apoya la digitalizaci√≥n continua.",
                    c3: "A favor de la gerencia eficiente y r√°pida en el estado."
                }
            },
            {
                text: "¬øPrivatizaci√≥n del Agua?",
                category: "Recursos",
                keyword: "water",
                description: "Permitir que empresas privadas gestionen o cobren el servicio de agua.",
                for: "Podr√≠a mejorar el servicio y las tuber√≠as que hoy son un desastre.",
                against: "El agua es un derecho humano, si se privatiza subir√° de precio y los pobres sufrir√°n.",
                stances: { c1: 0, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Niega querer privatizar, pero propuso un Pacto del Agua con alianzas p√∫blico-privadas.",
                    c2: "Advierte que el gobierno tiene un plan oculto para entregar el agua al sector privado.",
                    c3: "Totalmente en contra: 'El agua es del pueblo y no se negocia'."
                }
            },
            {
                text: "¬øPena m√°xima de 40 a√±os?",
                category: "Justicia",
                keyword: "prison",
                description: "Subir los a√±os de c√°rcel para criminales violentos (C√∫mulo de penas).",
                for: "Castigo ejemplar para asesinos y violadores; saca criminales de la calle m√°s tiempo.",
                against: "No baja la delincuencia por s√≠ solo y las c√°rceles ya est√°n llenas.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Apoya el nuevo C√≥digo Penal que incluye el c√∫mulo de penas.",
                    c2: "A favor de modernizar el c√≥digo para castigar el sicariato y acido del diablo.",
                    c3: "Mano dura: apoya penas severas para garantizar seguridad."
                }
            },
            {
                text: "¬øTitulaci√≥n de Terrenos?",
                category: "Social",
                keyword: "paper",
                description: "Darle su t√≠tulo de propiedad definitivo a gente que vive en tierra del Estado.",
                for: "Saca a la gente de la pobreza permiti√©ndoles tomar pr√©stamos con su casa.",
                against: "Proceso legal complejo y costoso; riesgo de legalizar invasiones recientes.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Ha entregado cifra r√©cord de t√≠tulos y lo exhibe como gran logro social.",
                    c2: "Dice que apoya la medida, pero alega que √©l inici√≥ esos programas.",
                    c3: "A favor de regularizar la vivienda digna."
                }
            },
            {
                text: "¬øFusi√≥n de Ministerios?",
                category: "Estado",
                keyword: "merge",
                description: "Unir ministerios (ej. Educaci√≥n y Educaci√≥n Superior) para gastar menos.",
                for: "Reduce la n√≥mina p√∫blica, elimina duplicidades y ahorra dinero.",
                against: "Crea desempleo y puede descuidar √°reas especializadas como la ciencia y tecnolog√≠a.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Propuso fusionar MESCYT-MINERD y otros entes para 'eficientizar' el gasto.",
                    c2: "Se opone, dice que degradar el Ministerio de Educaci√≥n Superior es un retroceso.",
                    c3: "Critica la improvisaci√≥n: 'No se trata de fusionar por fusionar, sino de gerenciar'."
                }
            },
            {
                text: "¬øImpuesto a Netflix/Spotify?",
                category: "Econom√≠a",
                keyword: "digital",
                description: "Cobrar ITBIS (18%) a los servicios digitales extranjeros.",
                for: "Competencia justa con empresas locales (Claro/Altice) que s√≠ pagan impuestos.",
                against: "Golpe directo al bolsillo de la clase media y j√≥venes.",
                stances: { c1: 1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Incluido en la reforma fiscal retirada; el gobierno busca c√≥mo gravar la econom√≠a digital.",
                    c2: "Lo us√≥ para atacar al gobierno: 'Quieren ponerle impuestos hasta al aire'.",
                    c3: "En contra de cargar m√°s impuestos al consumo de la gente."
                }
            },
            {
                text: "¬øDerechos Trabajo Dom√©stico?",
                category: "Derechos",
                keyword: "home",
                description: "Obligar a pagar salario m√≠nimo y seguridad social a empleadas del hogar.",
                for: "Justicia hist√≥rica para un sector vulnerable y explotado.",
                against: "Muchas familias no podr√°n pagarlo y tendr√°n que despedir a sus ayudantes.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Emiti√≥ resoluci√≥n para regularizarlo (frenada por Tribunal), mantiene la intenci√≥n.",
                    c2: "A favor de los derechos, pero advierte sobre el desempleo que puede causar si es brusco.",
                    c3: "Apoya la dignidad laboral, con reservas sobre la implementaci√≥n."
                }
            },
            {
                text: "¬øControl a Motoristas?",
                category: "Tr√°nsito",
                keyword: "motorcycle",
                description: "Chalecos numerados y prohibici√≥n de dos personas en moto en ciertas zonas.",
                for: "La mayor√≠a de atracos se hacen en moto; esto ayuda a identificarlos.",
                against: "Los motoconchistas lo ven como un abuso que les impide trabajar.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Implement√≥ el plan 'EN MOTO' de registro nacional obligatorio.",
                    c2: "Critica los excesos policiales contra los 'padres de familia' en campa√±a.",
                    c3: "A favor del orden, pero critica que se penalice al trabajador y no al delincuente."
                }
            },
            {
                text: "¬øInversi√≥n masiva en Santiago?",
                category: "Desarrollo",
                keyword: "city",
                description: "Gastar mucho presupuesto en obras para Santiago (Monorriel/Telef√©rico).",
                for: "Santiago aporta mucho al PIB y ten√≠a d√©cadas descuidada por el Estado.",
                against: "Otras provincias del Sur y el Este se sienten olvidadas.",
                stances: { c1: 1, c2: 0, c3: 1 },
                candidateOpinions: {
                    c1: "Ha centrado gran parte de su obra de gobierno en Santiago.",
                    c2: "Reconoce la importancia de Santiago, pero recuerda sus obras (UTESA, carreteras).",
                    c3: "Al ser de Santiago, exige inversi√≥n, aunque dice que el gobierno va muy lento."
                }
            },
            {
                text: "¬øMatrimonio Igualitario?",
                category: "Derechos",
                keyword: "rainbow",
                description: "Permitir legalmente el matrimonio entre personas del mismo sexo.",
                for: "Igualdad de derechos civiles ante la ley para todos los ciudadanos.",
                against: "Contrario a la Constituci√≥n dominicana y valores religiosos tradicionales.",
                stances: { c1: -1, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Evita el tema. Su partido es diverso, pero la l√≠nea oficial es conservadora.",
                    c2: "Cita la Constituci√≥n del 2010 (Art. 55) que define matrimonio hombre-mujer.",
                    c3: "Se apega a los valores tradicionales y la constituci√≥n vigente."
                }
            },
            {
                text: "¬øSeguro m√©dico para la Di√°spora?",
                category: "Salud",
                keyword: "world",
                description: "Dar seguro de salud Senasa a dominicanos ausentes cuando visiten el pa√≠s.",
                for: "Reconoce el aporte de las remesas y protege a los 'hermanos lejanos'.",
                against: "Log√≠sticamente dif√≠cil de coordinar si no residen aqu√≠.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Lanz√≥ el plan 'Senasa Larimar' espec√≠ficamente para esto.",
                    c2: "Siempre apoya medidas que beneficien a la comunidad en NY/Espa√±a.",
                    c3: "A favor de proteger a los dominicanos en el exterior."
                }
            },
            {
                text: "¬øEliminar Peaje Sombra?",
                category: "Econom√≠a",
                keyword: "road",
                description: "Haber cancelado el contrato donde el pa√≠s pagaba millones por la Autopista del Nordeste.",
                for: "Ahorro millonario para el Estado y fin de un contrato abusivo.",
                against: "Implica riesgos legales o pagos de compensaci√≥n iniciales altos.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Lo anuncia como uno de sus mayores logros de gesti√≥n econ√≥mica.",
                    c2: "Guarda silencio o justifica que en su momento fue necesario para construir la v√≠a.",
                    c3: "No ataca esta medida, pues es popularmente aceptada."
                }
            },
            {
                text: "¬øAumento a M√©dicos/Enfermeras?",
                category: "Salud",
                keyword: "doctor",
                description: "Subir el sueldo al personal de salud p√∫blica.",
                for: "Son trabajadores esenciales que merecen sueldos dignos.",
                against: "Aumenta el gasto fijo del gobierno (d√©ficit).",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Ha firmado acuerdos de aumento con el Colegio M√©dico (CMD).",
                    c2: "Siempre promete mejorar las condiciones del sector salud.",
                    c3: "Apoya las reivindicaciones de los m√©dicos."
                }
            },
            {
                text: "¬øDeclaraci√≥n Jurada P√∫blica?",
                category: "Transparencia",
                keyword: "file",
                description: "Obligar a funcionarios a decir cu√°nto dinero tienen p√∫blicamente.",
                for: "Permite vigilar si se enriquecen il√≠citamente en el cargo.",
                against: "Algunos alegan riesgos de seguridad (secuestros) al publicar datos.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Exige a sus funcionarios declarar o los suspende (caso reciente).",
                    c2: "Apoya la ley, pero sus gobiernos fueron criticados por falta de fiscalizaci√≥n.",
                    c3: "A favor de la transparencia, aunque critica el 'show' medi√°tico con los datos."
                }
            },
            {
                text: "¬øFin del Matrimonio Infantil?",
                category: "Derechos",
                keyword: "child",
                description: "Prohibici√≥n total de casarse antes de los 18 a√±os.",
                for: "Protege a las ni√±as del abuso y asegura su educaci√≥n.",
                against: "Choca con costumbres arraigadas en zonas rurales profundas.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Promulg√≥ la ley que elimina todas las excepciones (Ley 1-21).",
                    c2: "Apoya la protecci√≥n de la ni√±ez plenamente.",
                    c3: "A favor de erradicar esta pr√°ctica."
                }
            },
            {
                text: "¬øAutopista del √Åmbar?",
                category: "Infraestructura",
                keyword: "road",
                description: "Carretera nueva para conectar Santiago y Puerto Plata en 30 minutos.",
                for: "Impulso masivo al turismo y comercio en el Cibao.",
                against: "Muy costosa y compleja; temor a otro 'Peaje Sombra' si falla.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Es una promesa de campa√±a, busca Alianza P√∫blico-Privada para hacerla.",
                    c2: "Esc√©ptico sobre la viabilidad financiera bajo el modelo actual.",
                    c3: "A favor de la obra, pero cuestiona la capacidad de ejecuci√≥n del gobierno."
                }
            },
            {
                text: "¬øVivienda 'Familia Feliz'?",
                category: "Social",
                keyword: "house",
                description: "Ayuda del gobierno para pagar el inicial de tu primera casa.",
                for: "Facilita que los pobres tengan techo propio y digno.",
                against: "El alcance es limitado comparado con la gran cantidad de gente sin casa.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Programa central de su pol√≠tica social de vivienda.",
                    c2: "Critica que son pocas viviendas y muy caras para los pobres.",
                    c3: "Dice que el gobierno hace mucho anuncio y poca construcci√≥n real."
                }
            },
            {
                text: "¬øReforma C√≥digo Laboral (Cesant√≠a)?",
                category: "Laboral",
                keyword: "work",
                description: "Cambiar las leyes del trabajo. El debate es si quitan o no la Cesant√≠a.",
                for: "Modernizar el trabajo (teletrabajo) y fomentar m√°s empleo formal.",
                against: "Miedo a que eliminen el dinero que le toca al trabajador si lo cancelan.",
                stances: { c1: 0, c2: -1, c3: -1 },
                candidateOpinions: {
                    c1: "Promueve la reforma pero ha prometido 'no tocar la cesant√≠a' para calmar sindicatos.",
                    c2: "Se erige como defensor de los trabajadores: 'La cesant√≠a es sagrada'.",
                    c3: "El PLD advierte que no apoyar√° nada que perjudique al empleado."
                }
            },
            {
                text: "¬øHub Log√≠stico Regional?",
                category: "Econom√≠a",
                keyword: "ship",
                description: "Que RD sea el almac√©n y centro de distribuci√≥n de carga del Caribe.",
                for: "Genera divisas y empleos de calidad aprovechando nuestra ubicaci√≥n.",
                against: "Requiere incentivos fiscales que el gobierno quiere quitar.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Estrategia clave de su gobierno (Decreto 148-22).",
                    c2: "Visi√≥n compartida de desarrollo nacional a largo plazo.",
                    c3: "A favor del desarrollo portuario y log√≠stico."
                }
            },
            {
                text: "¬øCombate al Sargazo?",
                category: "Turismo",
                keyword: "sea",
                description: "Invertir millones para recoger las algas que invaden las playas.",
                for: "Si no se limpia, el turismo colapsa y la econom√≠a sufre.",
                against: "Es un problema regional enorme; RD sola gasta mucho con poco impacto.",
                stances: { c1: 1, c2: 1, c3: 1 },
                candidateOpinions: {
                    c1: "Cre√≥ un gabinete de lucha contra el sargazo y busca fondos internacionales.",
                    c2: "Reconoce la gravedad y apoya soluciones t√©cnicas urgentes.",
                    c3: "Apoya proteger el turismo, motor de la econom√≠a."
                }
            },
            {
                text: "¬øProtecci√≥n de Valle Nuevo?",
                category: "Medio Ambiente",
                keyword: "forest",
                description: "Prohibir la agricultura en el parque nacional para salvar el agua.",
                for: "De ah√≠ sale el agua para gran parte del pa√≠s (Madre de las aguas).",
                against: "Deja sin sustento a cientos de familias campesinas de la zona.",
                stances: { c1: 1, c2: 0, c3: 0 },
                candidateOpinions: {
                    c1: "Ha ejecutado el desalojo de agricultores para recuperar el parque.",
                    c2: "Critica el 'drama humano' de los desalojos sin alternativas claras.",
                    c3: "Apoya el medio ambiente pero pide trato digno a los campesinos."
                }
            }
        ];

        let currentCardIndex = 0;
        const stackElement = document.getElementById('cardStack');

        // --- WIKIPEDIA IMAGE FETCHER ---
        // This is 100% free, open, and has no rate limits or keys.
        async function fetchWikiImage(keyword) {
            try {
                // 1. We ask Wikipedia for 3 images related to the keyword
                // origin=* fixes CORS issues on localhost
                const url = `https://en.wikipedia.org/w/api.php?action=query&generator=search&gsrsearch=${encodeURIComponent(keyword)}&gsrlimit=3&prop=pageimages&pithumbsize=600&format=json&origin=*`;

                const response = await fetch(url);
                const data = await response.json();

                // 2. Extract pages from the result
                const pages = data.query && data.query.pages ? Object.values(data.query.pages) : [];

                // 3. Filter only results that actually have a thumbnail image
                const validImages = pages.filter(page => page.thumbnail && page.thumbnail.source);

                if (validImages.length > 0) {
                    // 4. Pick a random image from the results to make it dynamic
                    const randomImage = validImages[Math.floor(Math.random() * validImages.length)];
                    return randomImage.thumbnail.source;
                } else {
                    throw new Error("No wiki image found");
                }
            } catch (error) {
                console.error("Wiki load failed", error);
                // Fallback to a solid color text placeholder if Wikipedia fails
                return `https://placehold.co/600x450/EEE/31343C?text=${encodeURIComponent(keyword)}`;
            }
        }

        // --- INIT ---
        // --- NEW HELPER: SHUFFLE FUNCTION ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- UPDATED INIT FUNCTION ---
        // --- NEW HELPER: SHUFFLE FUNCTION ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- UPDATED INIT FUNCTION ---
        async function init() {
    // 1. Shuffle
    shuffleArray(propositions);

    const totalCards = propositions.length;

    // 2. Prepare Data
    const cardsData = [...propositions].reverse().map((prop, index) => {
        const realIndex = propositions.length - 1 - index;
        const displayNum = totalCards - index;
        return { prop, realIndex, displayNum };
    });

    // 3. Build DOM
    for (const item of cardsData) {
        
        // --- GENERATE CANDIDATE OPINIONS HTML ---
        // We map through the global 'candidates' array to create the rows
        const candidateOpinionsHTML = candidates.map(c => `
            <div class="opinion-row">
                <div class="opinion-avatar" style="border-color: ${c.color}">
                    <img src="${c.avatar}.png" alt="${c.name}">
                </div>
                <div class="opinion-text">
                    <strong style="color:${c.color}">${c.name}</strong><br>
                    ${item.prop.candidateOpinions && item.prop.candidateOpinions[c.id] 
                        ? item.prop.candidateOpinions[c.id] 
                        : "Sin comentarios espec√≠ficos."}
                </div>
            </div>
        `).join('');

        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.index = item.realIndex;
        
        card.innerHTML = `
            <div class="overlay overlay-yes">¬°CLARO!</div>
            <div class="overlay overlay-no">¬°NUNCA!</div>
            <div class="overlay overlay-maybe">NI IDEA</div>
            
            <div class="card-counter">${item.displayNum} / ${totalCards}</div>

            <div class="card-image-wrapper" style="width:100%; height:45%; background:#ddd; position:relative; overflow:hidden;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif?20151024034921" 
                        class="card-image" 
                        id="img-${item.realIndex}"
                        style="width:100%; height:100%; object-fit:contain; padding:50px;"
                        alt="Cargando...">
            </div>
            
            <div class="card-content">
                <div class="category-badge">${item.prop.category}</div>
                <div class="proposition-text">${item.prop.text}</div>
                
                <!-- NEW: Description displayed on the card front -->
                <div class="proposition-description">
                    ${item.prop.description}
                </div>
                
                <button class="saber-mas" 
                        onclick="toggleDetails(event, this)" 
                        style="background:none; cursor:pointer;">
                    Saber m√°s +
                </button>
            </div>

            <!-- DETAILS VIEW (BACK) -->
            <div class="card-details">
                <h3 class="details-title" style="margin-bottom:20px; font-size:1.1rem;">
                    ${item.prop.text}
                </h3>
                
                <div class="details-text">
                    <!-- NEW: Injected Candidate Opinions -->
                    ${candidateOpinionsHTML}
                </div>

                <button class="btn-close-details" onclick="toggleDetails(event, this)">
                    Volver a votar
                </button>
            </div>
        `;
        
        addTouchLogic(card);
        stackElement.appendChild(card);
        
        fetchWikiImage(item.prop.keyword).then(url => {
            const img = document.getElementById(`img-${item.realIndex}`);
            if (img) {
                img.src = url;
                img.style.objectFit = "cover";
                img.style.padding = "0";
            }
        });
    }
}

function addTouchLogic(card) {
    let startX = 0, startY = 0, currentX = 0, currentY = 0, isDragging = false;
    let isMoveEventFired = false; // New flag to ensure we actually moved

    const startDrag = (e) => {
        // 1. Ignore drag if touching a button or scrollable content
        if (e.target.closest('button') || e.target.closest('.details-text')) return;

        startX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;
        startY = e.type.includes('mouse') ? e.clientY : e.touches[0].clientY;
        
        // 2. IMPORTANT FIX: Initialize current values to start values
        currentX = startX;
        currentY = startY;
        
        isDragging = true;
        isMoveEventFired = false; // Reset flag
        card.style.transition = 'none';
    };

    card.addEventListener('touchstart', startDrag); 
    card.addEventListener('mousedown', startDrag);

    const moveDrag = (e) => {
        if (!isDragging) return;

        // Mark that a move actually happened
        isMoveEventFired = true;

        currentX = (e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);
        currentY = (e.type.includes('mouse') ? e.clientY : e.touches[0].clientY);
        
        let diffX = currentX - startX;
        let diffY = currentY - startY;
        let rotation = diffX / 10;

        // Prevent scrolling on mobile ONLY if we are swiping horizontally
        if(e.type === 'touchmove' && Math.abs(diffX) > Math.abs(diffY)) {
             e.preventDefault(); 
        }

        if (Math.abs(diffY) > Math.abs(diffX) && diffY < -50) {
             // Swipe Up logic
             card.style.transform = `translateY(${diffY}px) scale(${1 - Math.abs(diffY)/1000})`;
             card.querySelector('.overlay-maybe').style.opacity = Math.min(Math.abs(diffY) / 150, 1);
        } else {
            // Side Swipe logic
            card.style.transform = `translateX(${diffX}px) rotate(${rotation}deg)`;
            if (diffX > 0) { card.querySelector('.overlay-yes').style.opacity = Math.min(diffX / 100, 1); } 
            else { card.querySelector('.overlay-no').style.opacity = Math.min(Math.abs(diffX) / 100, 1); }
        }
    };
    
    // Use passive: false to allow e.preventDefault()
    window.addEventListener('touchmove', moveDrag, {passive: false}); 
    window.addEventListener('mousemove', moveDrag);

    const endDrag = (e) => {
        if (!isDragging) return;
        isDragging = false;

        // 3. If we didn't actually move the finger, it's just a tap. Do nothing.
        if (!isMoveEventFired) {
            return;
        }

        let diffX = currentX - startX;
        let diffY = currentY - startY;
        
        card.style.transition = 'transform 0.4s ease';
        
        // Thresholds to trigger action
        if (diffX > 100) processSwipe('right', card);
        else if (diffX < -100) processSwipe('left', card);
        else if (diffY < -100) processSwipe('up', card);
        else { 
            // Reset if threshold not met
            card.style.transform = ''; 
            card.querySelectorAll('.overlay').forEach(el => el.style.opacity = 0); 
        }
    };
    
    window.addEventListener('touchend', endDrag); 
    window.addEventListener('mouseup', endDrag);
}

        function triggerSwipe(direction) {
            const cards = document.querySelectorAll('.card');
            const topCard = cards[cards.length - 1];
            if (topCard) processSwipe(direction, topCard);
        }

        function processSwipe(direction, card) {
            const index = parseInt(card.dataset.index);
            const prop = propositions[index];

            if (direction !== 'up') {
                const userChoice = direction === 'right' ? 1 : -1;
                candidates.forEach(cand => {
                    const candidateStance = prop.stances[cand.id];
                    if (userChoice === candidateStance) cand.score += 1;
                });
            }

            let transString = '';
            if (direction === 'right') transString = `translateX(${window.innerWidth}px) rotate(30deg)`;
            else if (direction === 'left') transString = `translateX(-${window.innerWidth}px) rotate(-30deg)`;
            else transString = `translateY(-${window.innerHeight}px) scale(0.5)`;

            card.style.transform = transString;
            card.style.opacity = '0';

            setTimeout(() => {
                card.remove();
                currentCardIndex++;
                if (currentCardIndex === 35) {
                    mostrarCedulaModal();
                }
                if (currentCardIndex >= propositions.length) showResults();
            }, 300);
        }

        function showResults() {
            document.getElementById('controls').style.display = 'none';
            document.querySelector('header').style.display = 'none';
            const resultsView = document.getElementById('resultsView');
            resultsView.style.display = 'flex';

            candidates.sort((a, b) => b.score - a.score);
            const container = document.getElementById('podiumContainer');
            container.innerHTML = '';

            const top3 = candidates.slice(0, 3);
            const maxScore = propositions.length;

            top3.forEach((cand, index) => {
                const rank = index + 1;
                const percent = maxScore > 0 ? Math.round((cand.score / maxScore) * 100) : 0;

                let heightBase = 0;
                if (rank === 1) heightBase = 85;
                if (rank === 2) heightBase = 65;
                if (rank === 3) heightBase = 45;

                const finalHeight = Math.min(heightBase + (cand.score * 2), 95);

                const div = document.createElement('div');
                div.className = `podium-place place-${rank}`;
                div.innerHTML = `
                    <div class="candidate-avatar-res" style="border-color: ${cand.color}">
                        <img src="${cand.avatar}.png" alt="${cand.name}">
                    </div>
                    <div class="podium-bar" style="--target-height: ${finalHeight}%;">
                        <span class="score-text">${percent}%</span>
                        <span class="name-text">${cand.name}</span>
                    </div>
                `;
                container.appendChild(div);
            });

            setTimeout(() => {
                document.querySelectorAll('.podium-bar').forEach(bar => {
                    bar.style.height = bar.style.getPropertyValue('--target-height');
                });
                document.querySelectorAll('.candidate-avatar-res').forEach((av, i) => {
                    setTimeout(() => av.classList.add('animate-avatar'), i * 200 + 800);
                });
            }, 100);
        }

        // --- L√ìGICA DE LA C√âDULA ---

        function mostrarCedulaModal() {
            const modal = document.getElementById('cedulaModal');
            modal.style.display = 'flex';
            // Desenfocar el input un poco para evitar el teclado inmediato en m√≥viles si molesta, 
            // o enfocarlo si quieres agresividad:
            document.getElementById('cedulaInput').focus();
        }

        function skipCedula() {
            document.getElementById('cedulaModal').style.display = 'none';
        }

        function verificarCedula() {
            const input = document.getElementById('cedulaInput');
            const feedback = document.getElementById('cedulaFeedback');
            const val = input.value.replace(/[^0-9]/g, ''); // Solo n√∫meros

            // Simulaci√≥n "Fake" pero divertida
            if (val.length !== 11) {
                feedback.style.color = 'red';
                feedback.innerText = "‚ùå Esa c√©dula 'ta chueca. Son 11 n√∫meros.";
                input.style.borderColor = 'red';
                return;
            }

            feedback.style.color = '#00C853';
            feedback.innerHTML = "‚úÖ <strong>¬°Confirmado!</strong><br>Usted es dominicano pura cepa.";

            // Efecto visual
            document.querySelector('.cedula-card').style.border = "5px solid #00C853";
            document.querySelector('.siren-icon').innerText = "üá©üá¥";
            document.querySelector('.siren-icon').style.animation = "none";

            setTimeout(() => {
                document.getElementById('cedulaModal').style.display = 'none';
                // El juego contin√∫a solo
            }, 1500);
        }

        // Permitir presionar Enter
        document.getElementById('cedulaInput').addEventListener("keypress", function (event) {
            if (event.key === "Enter") {
                event.preventDefault();
                verificarCedula();
            }
        });

        // Funci√≥n para mostrar/ocultar la descripci√≥n
        function toggleDetails(event, btnElement) {
            event.stopPropagation(); // Evita que el click afecte el drag de la carta

            // Buscamos la carta padre m√°s cercana
            const card = btnElement.closest('.card');

            if (card) {
                // Alternamos la clase que muestra el CSS transform
                card.classList.toggle('show-info');
            }
        }

        init();
    </script>
</body>

</html>